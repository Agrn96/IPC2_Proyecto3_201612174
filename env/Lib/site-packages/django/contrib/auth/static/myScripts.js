document.getElementById("myfile").addEventListener('change', function () {
    var fr = new FileReader();
    fr.onload = function () {
        document.getElementById("text_entrada").textContent = this.result;
    }
    fr.readAsText(this.files[0]);
})

document.getElementById("fecha").addEventListener('change', function () {
    var date = document.getElementById("fecha").value;
    document.getElementById("text_salida").innerHTML = date;
})

function send_Text(){
    var hold = document.getElementById("text_entrada").value;
    //document.getElementById("text_salida").innerHTML = hold;
    fetch('http://127.0.0.1:5000/ping')
      .then(function (response) {
          return response.json();
      }).then(function (text) {
          document.getElementById("text_salida").innerHTML = text.xml;
      });
}

function graph1(){
    var route = "http://127.0.0.1:5000/graph1/"
    route += document.getElementById("fecha").value
    fetch(route)
      .then(function (response) {
          return response.json();
      }).then(function (text) {
          var temp = ""
          var i = 0;
          for(item in text.x){
              temp += text.x[i] + " " + text.y[i] + "\n"
              i++
          }
          document.getElementById("text_salida").innerHTML = temp;
      });
}

function graph2(){
    var route = "http://127.0.0.1:5000/graph2/"
    route += document.getElementById("fecha").value
    fetch(route)
      .then(function (response) {
          return response.json();
      }).then(function (text) {
          document.getElementById("text_salida").innerHTML = text.x;
      });
}